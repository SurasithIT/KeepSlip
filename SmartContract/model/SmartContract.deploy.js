const ethers = require("ethers");
const contractJSON = require("./truffle/build/contracts/KeepSlip.json");
// let {wallet,address,contract,contractWithSigner} = require('./SmartContract.config')

const contractABI = contractJSON.abi;
let bytecode =
  "608060405234801561001057600080fd5b50611d43806100206000396000f3fe608060405234801561001057600080fd5b50600436106100935760003560e01c8063608d52c811610066578063608d52c81461013357806380721bb914610163578063a718647a14610194578063d3da858b146101c9578063deeb3d2b146101fe57610093565b806339fa66c9146100985780633a9d2aff146100c95780633dcd351f146100f9578063474088c814610117575b600080fd5b6100b260048036036100ad91908101906114be565b610233565b6040516100c09291906119bb565b60405180910390f35b6100e360048036036100de91908101906114be565b6103c7565b6040516100f09190611977565b60405180910390f35b6101016105c1565b60405161010e9190611955565b60405180910390f35b610131600480360361012c91908101906115a7565b6106aa565b005b61014d60048036036101489190810190611613565b610862565b60405161015a9190611999565b60405180910390f35b61017d6004803603610178919081019061147d565b61091b565b60405161018b929190611a61565b60405180910390f35b6101ae60048036036101a99190810190611613565b610a85565b6040516101c096959493929190611a98565b60405180910390f35b6101e360048036036101de91908101906114ff565b610c0b565b6040516101f5969594939291906119f2565b60405180910390f35b61021860048036036102139190810190611553565b610ecf565b60405161022a96959493929190611a98565b60405180910390f35b60608061023e611078565b60008460405161024e919061193e565b9081526020016040518091039020604051806040016040529081600082018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156103005780601f106102d557610100808354040283529160200191610300565b820191906000526020600020905b8154815290600101906020018083116102e357829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156103a25780601f10610377576101008083540402835291602001916103a2565b820191906000526020600020905b81548152906001019060200180831161038557829003601f168201915b5050505050815250509050806000015181602001518191508090509250925050915091565b60606003826040516103d9919061193e565b9081526020016040518091039020805480602002602001604051908101604052809291908181526020016000905b828210156105b657838290600052602060002090600602016040518060c0016040529081600082018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156104c35780601f10610498576101008083540402835291602001916104c3565b820191906000526020600020905b8154815290600101906020018083116104a657829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156105655780601f1061053a57610100808354040283529160200191610565565b820191906000526020600020905b81548152906001019060200180831161054857829003601f168201915b5050505050815260200160028201548152602001600382015481526020016004820160009054906101000a900460ff1615151515815260200160058201548152505081526020019060010190610407565b505050509050919050565b60606001805480602002602001604051908101604052809291908181526020016000905b828210156106a1578382906000526020600020018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561068d5780601f106106625761010080835404028352916020019161068d565b820191906000526020600020905b81548152906001019060200180831161067057829003601f168201915b5050505050815260200190600101906105e5565b50505050905090565b6106b2611078565b82905080600082600001516040516106ca9190611927565b908152602001604051809103902060008201518160000190805190602001906106f4929190611092565b506020820151816001019080519060200190610711929190611092565b5090505060008090505b82518110156108195761072c611112565b83828151811061073857fe5b60200260200101519050600383600001516040516107569190611927565b9081526020016040518091039020819080600181540180825580915050906001820390600052602060002090600602016000909192909190915060008201518160000190805190602001906107ac929190611092565b5060208201518160010190805190602001906107c9929190611092565b50604082015181600201556060820151816003015560808201518160040160006101000a81548160ff02191690831515021790555060a0820151816005015550505050808060010191505061071b565b5060018160000151908060018154018082558091505090600182039060005260206000200160009091929091909150908051906020019061085b92919061114a565b5050505050565b6001818154811061086f57fe5b906000526020600020016000915090508054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156109135780601f106108e857610100808354040283529160200191610913565b820191906000526020600020905b8154815290600101906020018083116108f657829003601f168201915b505050505081565b600081805160208101820180518482526020830160208501208183528095505050505050600091509050806000018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156109dd5780601f106109b2576101008083540402835291602001916109dd565b820191906000526020600020905b8154815290600101906020018083116109c057829003601f168201915b505050505090806001018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610a7b5780601f10610a5057610100808354040283529160200191610a7b565b820191906000526020600020905b815481529060010190602001808311610a5e57829003601f168201915b5050505050905082565b60028181548110610a9257fe5b9060005260206000209060060201600091509050806000018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610b3e5780601f10610b1357610100808354040283529160200191610b3e565b820191906000526020600020905b815481529060010190602001808311610b2157829003601f168201915b505050505090806001018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610bdc5780601f10610bb157610100808354040283529160200191610bdc565b820191906000526020600020905b815481529060010190602001808311610bbf57829003601f168201915b5050505050908060020154908060030154908060040160009054906101000a900460ff16908060050154905086565b606080600080600080600388604051610c24919061193e565b90815260200160405180910390208781548110610c3d57fe5b9060005260206000209060060201600001600389604051610c5e919061193e565b90815260200160405180910390208881548110610c7757fe5b906000526020600020906006020160010160038a604051610c98919061193e565b90815260200160405180910390208981548110610cb157fe5b90600052602060002090600602016002015460038b604051610cd3919061193e565b90815260200160405180910390208a81548110610cec57fe5b90600052602060002090600602016003015460038c604051610d0e919061193e565b90815260200160405180910390208b81548110610d2757fe5b906000526020600020906006020160040160009054906101000a900460ff1660038d604051610d56919061193e565b90815260200160405180910390208c81548110610d6f57fe5b906000526020600020906006020160050154858054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610e165780601f10610deb57610100808354040283529160200191610e16565b820191906000526020600020905b815481529060010190602001808311610df957829003601f168201915b50505050509550848054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610eb25780601f10610e8757610100808354040283529160200191610eb2565b820191906000526020600020905b815481529060010190602001808311610e9557829003601f168201915b505050505094509550955095509550955095509295509295509295565b6003828051602081018201805184825260208301602085012081835280955050505050508181548110610efe57fe5b906000526020600020906006020160009150915050806000018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610fab5780601f10610f8057610100808354040283529160200191610fab565b820191906000526020600020905b815481529060010190602001808311610f8e57829003601f168201915b505050505090806001018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156110495780601f1061101e57610100808354040283529160200191611049565b820191906000526020600020905b81548152906001019060200180831161102c57829003601f168201915b5050505050908060020154908060030154908060040160009054906101000a900460ff16908060050154905086565b604051806040016040528060608152602001606081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106110d357805160ff1916838001178555611101565b82800160010185558215611101579182015b828111156111005782518255916020019190600101906110e5565b5b50905061110e91906111ca565b5090565b6040518060c0016040528060608152602001606081526020016000815260200160008152602001600015158152602001600081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061118b57805160ff19168380011785556111b9565b828001600101855582156111b9579182015b828111156111b857825182559160200191906001019061119d565b5b5090506111c691906111ca565b5090565b6111ec91905b808211156111e85760008160009055506001016111d0565b5090565b90565b600082601f83011261120057600080fd5b813561121361120e82611b34565b611b07565b9150818183526020840193506020810190508360005b83811015611259578135860161123f8882611320565b845260208401935060208301925050600181019050611229565b5050505092915050565b60008135905061127281611cd2565b92915050565b600082601f83011261128957600080fd5b813561129c61129782611b5c565b611b07565b915080825260208301602083018583830111156112b857600080fd5b6112c3838284611c7f565b50505092915050565b600082601f8301126112dd57600080fd5b81356112f06112eb82611b88565b611b07565b9150808252602083016020830185838301111561130c57600080fd5b611317838284611c7f565b50505092915050565b600060c0828403121561133257600080fd5b61133c60c0611b07565b9050600082013567ffffffffffffffff81111561135857600080fd5b61136484828501611278565b600083015250602082013567ffffffffffffffff81111561138457600080fd5b61139084828501611278565b60208301525060406113a484828501611468565b60408301525060606113b884828501611468565b60608301525060806113cc84828501611263565b60808301525060a06113e084828501611468565b60a08301525092915050565b6000604082840312156113fe57600080fd5b6114086040611b07565b9050600082013567ffffffffffffffff81111561142457600080fd5b61143084828501611278565b600083015250602082013567ffffffffffffffff81111561145057600080fd5b61145c84828501611278565b60208301525092915050565b60008135905061147781611ce9565b92915050565b60006020828403121561148f57600080fd5b600082013567ffffffffffffffff8111156114a957600080fd5b6114b584828501611278565b91505092915050565b6000602082840312156114d057600080fd5b600082013567ffffffffffffffff8111156114ea57600080fd5b6114f6848285016112cc565b91505092915050565b6000806040838503121561151257600080fd5b600083013567ffffffffffffffff81111561152c57600080fd5b611538858286016112cc565b925050602061154985828601611468565b9150509250929050565b6000806040838503121561156657600080fd5b600083013567ffffffffffffffff81111561158057600080fd5b61158c85828601611278565b925050602061159d85828601611468565b9150509250929050565b600080604083850312156115ba57600080fd5b600083013567ffffffffffffffff8111156115d457600080fd5b6115e0858286016113ec565b925050602083013567ffffffffffffffff8111156115fd57600080fd5b611609858286016111ef565b9150509250929050565b60006020828403121561162557600080fd5b600061163384828501611468565b91505092915050565b600061164883836117d6565b905092915050565b600061165c8383611879565b905092915050565b600061166f82611bd4565b6116798185611c1a565b93508360208202850161168b85611bb4565b8060005b858110156116c757848403895281516116a8858261163c565b94506116b383611c00565b925060208a0199505060018101905061168f565b50829750879550505050505092915050565b60006116e482611bdf565b6116ee8185611c2b565b93508360208202850161170085611bc4565b8060005b8581101561173c578484038952815161171d8582611650565b945061172883611c0d565b925060208a01995050600181019050611704565b50829750879550505050505092915050565b61175781611c69565b82525050565b61176681611c69565b82525050565b600061177782611bf5565b6117818185611c4d565b9350611791818560208601611c8e565b61179a81611cc1565b840191505092915050565b60006117b082611bf5565b6117ba8185611c5e565b93506117ca818560208601611c8e565b80840191505092915050565b60006117e182611bea565b6117eb8185611c3c565b93506117fb818560208601611c8e565b61180481611cc1565b840191505092915050565b600061181a82611bea565b6118248185611c4d565b9350611834818560208601611c8e565b61183d81611cc1565b840191505092915050565b600061185382611bea565b61185d8185611c5e565b935061186d818560208601611c8e565b80840191505092915050565b600060c083016000830151848203600086015261189682826117d6565b915050602083015184820360208601526118b082826117d6565b91505060408301516118c56040860182611909565b5060608301516118d86060860182611909565b5060808301516118eb608086018261174e565b5060a08301516118fe60a0860182611909565b508091505092915050565b61191281611c75565b82525050565b61192181611c75565b82525050565b60006119338284611848565b915081905092915050565b600061194a82846117a5565b915081905092915050565b6000602082019050818103600083015261196f8184611664565b905092915050565b6000602082019050818103600083015261199181846116d9565b905092915050565b600060208201905081810360008301526119b3818461180f565b905092915050565b600060408201905081810360008301526119d5818561176c565b905081810360208301526119e9818461176c565b90509392505050565b600060c0820190508181036000830152611a0c818961176c565b90508181036020830152611a20818861176c565b9050611a2f6040830187611918565b611a3c6060830186611918565b611a49608083018561175d565b611a5660a0830184611918565b979650505050505050565b60006040820190508181036000830152611a7b818561180f565b90508181036020830152611a8f818461180f565b90509392505050565b600060c0820190508181036000830152611ab2818961180f565b90508181036020830152611ac6818861180f565b9050611ad56040830187611918565b611ae26060830186611918565b611aef608083018561175d565b611afc60a0830184611918565b979650505050505050565b6000604051905081810181811067ffffffffffffffff82111715611b2a57600080fd5b8060405250919050565b600067ffffffffffffffff821115611b4b57600080fd5b602082029050602081019050919050565b600067ffffffffffffffff821115611b7357600080fd5b601f19601f8301169050602081019050919050565b600067ffffffffffffffff821115611b9f57600080fd5b601f19601f8301169050602081019050919050565b6000819050602082019050919050565b6000819050602082019050919050565b600081519050919050565b600081519050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b6000602082019050919050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b600081905092915050565b60008115159050919050565b6000819050919050565b82818337600083830152505050565b60005b83811015611cac578082015181840152602081019050611c91565b83811115611cbb576000848401525b50505050565b6000601f19601f8301169050919050565b611cdb81611c69565b8114611ce657600080fd5b50565b611cf281611c75565b8114611cfd57600080fd5b5056fea365627a7a72315820ddc8cd327b5cd7591d147ffe56a0150b73ff3dcf8dc30d1288a5351ac06803186c6578706572696d656e74616cf564736f6c634300050c0040";

let provider = ethers.getDefaultProvider(
  "kovan",
  "26c25ad8a6574ff784188acd2fb8727f"
);
let privateKey =
  "b3caecd0278206321e03889f0c97db39b0806ff1425a0b0567c58cce5c0f3167";
let wallet = new ethers.Wallet(privateKey, provider);
// Deployment is asynchronous, so we use an async IIFE
deploy = async () => {
  // Create an instance of a Contract Factory
  let factory = new ethers.ContractFactory(contractABI, bytecode, wallet);
  // Notice we pass in "Hello World" as the parameter to the constructor
  let contract = await factory.deploy();
  // The address the Contract WILL have once mined
  // See: https://ropsten.etherscan.io/address/0x2bd9aaa2953f988153c8629926d22a6a5f69b14e
  contractAddress = contract.address;
  console.log(contractAddress);

  contractDeployTransactionHash = contract.deployTransaction.hash;
  console.log(contract.deployTransaction.hash);
  // The transaction that was sent to the network to deploy the Contract
  // See: https://kovan.etherscan.io/tx/<contractDeployTransactionHash>

  // The contract is NOT deployed yet; we must wait until it is mined
  //   await contract.deployed();

  // Done! The contract is deployed.
  console.log("Contract is deployed!");
};

// deploy();
